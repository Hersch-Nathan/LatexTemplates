%EE571 Fall 2025 HW 1
%Hersch Nathan 

\documentclass{homework}

% Fill in your info here
\begin{document}
\hwheader{EE571 Fall 2025}{1}{2025-09-01}{Hersch Nathan}

% Problem 1
\problem{A system's transfer function is $(s+1)/(s^2+0.5)$. The input is $r(t)$ and the output is $c(t)$. Give the differential equation of this system? All the donations/variables must be correct as given by the problem.}

\begin{hwmath}
    G(s) \eq \frac{s+1}{s^2+0.5} \\
    G(s) \eq \frac{C(s)}{R(s)} \\
    \eq \frac{b_{m-1}s +b_m}{a_{n-2}s^2+a_{n-1}s+a_n} \\
    \eq \frac{s+1}{s^2+0.5} \\
    \ddot{y} +0.5y \eq \dot{x} +x 
\end{hwmath}

% Problem 2
\problem{Give the transfer function for the differential equation $3\frac{dy(t)}{dt} + 5y(t) = 0.5\frac{du(t)}{dt} + 0.3u(t)$ with $y$ as the output. Is the transfer function of system $3\frac{dx(t)}{dt} + 5x(t) = 0.5\frac{du(t)}{dt} + 0.3u(t)$ with $x$ as the output the same as that for $3\frac{dy(t)}{dt} + 5y(t) = 0.5\frac{du(t)}{dt} + 0.3u(t)$?}

\begin{hwmath}
    3\frac{dy(t)}{dt} + 5 y(t) \eq 0.5\frac{du(t)}{dt} +0.4u(t) \\
    3\dot(y)+5y \eq 0.5\dot{u} +0.3u \\
    G(s) \eq \frac{0.5s +0.3}{3s+5}
\end{hwmath}

for 
\begin{hwmath}
    3\frac{dx(t)}{dt} + 5 x(t) \eq 0.5\frac{du(t)}{dt} +0.4u(t) \\
    3\dot(x)+5x \eq 0.5\dot{u} +0.3u \\
    G(s) \eq \frac{0.5s +0.3}{3s+5}
\end{hwmath}

The transfer functions of the two system are equal. 

% Problem 3
\problem{A system's impulse response $g(t) = 0.5^t$ ($t \geq 0$) ($g(t) = 0$ ($t < 0$)). The input is $x(t) = 1$ ($t \geq 0$) ($x(t) = 0$ ($t < 0$)). Give the output $c(t)$ generated by this input in the form of convolutional integral â€“ just the equation based on the definition, without the need to actually find the integral; solution using Laplace transform is not acceptable.}

\begin{hwmath}
    g(t) \eq \begin{cases}
        0.5^t & t \geq 0 \\
        0 & t < 0
    \end{cases} \\
    x(t) \eq \begin{cases}
        1 & t \geq 0 \\
        0, t < 0 
    \end{cases} \\
    c(t) \eq g(t) \cdot x(t) = \int_{0}^{t}x(\tau)g(t-\tau)d\tau \\
    x(t) \eq \delta(t) \\
    c(t) \eq  \int_{0}^{t}\delta(\tau)g(t-\tau)d\tau \\
    c(t) \eq  \int_{0}^{t}(1)(0.5^{t-\tau})d\tau \\
    c(t) \eq  \int_{0}^{t}0.5^{t-\tau}d\tau\\
\end{hwmath}

% Problem 4
\problem{(1) Give the equation for the Laplace transform of $g(t) = 0.5^t$ ($t \geq 0$) ($g(t) = 0$ ($t < 0$)) per the definition of Laplace transform; just the definition and no simplification and further calculation are required. (2) This Laplace transform is the differential equation of the above system, right? (3) If not, what is it?}

\subproblem[1]

\begin{hwmath}
    g(t) \eq \begin{cases}
        0.5^t & t \geq 0 \\
        0 & t < 0
    \end{cases} \\
   \mathcal{L}(g(t)) = G(s) \eq \int_{0}^{\inf}g(t)e^{-st}dt \\
   \eq \int_{0}^{\inf}0.5^te^{-st}dt \\
\end{hwmath}

\subproblem[2]
No, it is not the differential equationi of the above system.

\subproblem[3]
It is the transfer function.

% Problem 5
\problem{A closed-loop control system has its feedforward transfer function $G(s) = \frac{1}{s+0.5}$ and its open-loop transfer function $G(s)H(s) = 0.5s + 0.5$. Draw the diagram of the system with each block filled with actual transfer function rather than just notation.}

\begin{hwmath}
    G(s) \eq \frac{1}{s+0.5} \\
    G(s)H(s) \eq \frac{0.5 }{s +0.5} \\
    \frac{1}{s+5}H(s) \eq \frac{0.5}{s+0.5}\\
    H(s) \eq 0.5
\end{hwmath}

\note[Add the Diagrams]

% Problem 6
\problem{Calculate the closed-loop system transfer function for the above system by hand.}

\begin{hwmath}
    C(s) \eq G(s)E(s) \\
    E(s) \eq R(s) - B(s) \\
    \eq R(s)- H(s)C(s) \\
    C(s) \eq G(s) [R(s) -H(s)C(s)] \\
    C(s) \eq G(s)R(s)-G(s) H(s)C(s) \\
    C(s)(1 +G(s)H(s)) \eq G(s)R(s) \\
    \frac{C(s)}{R(s)} \eq \frac{G(s)}{1+G(s)H(s)} \\
    \eq \frac{\frac{1}{s+0.5}}{1 + \frac{0.5}{s+0.5}}\\
    \eq \frac{1}{s+0.5+0.5} \\
    \frac{C(s)}{R(s)} \eq \frac{1}{s+1}
\end{hwmath}

% Problem 7
\problem{Calculate the closed-loop transfer function using Matlab.}

\begin{hwmatlab}
    %% Problem 7 - Feedback System Analysis
    cleanup_workspace();
    % Define forward transfer function G(s) = 1/(s+0.5)
    G_num = [1];
    G_dem = [1 0.5];

    % Define feedback transfer function H(s) = 0.5
    H_num = [0.5];
    H_dem = [1];

    % Calculate closed-loop transfer function
    [num, dem] = feedback(G_num,G_dem, H_num, G_dem);

    % Display result
    printsys(num, dem)

\end{hwmatlab}

\begin{hwterminal}
num/den = 
 
       s + 0.5
   ---------------
   s^2 +  s + 0.75
\end{hwterminal}
% Problem 8
\problem{$G_1(s) = \frac{1}{s+1}$ and $G_2(s) = \frac{1}{s+3}$. Calculate the transfer function for the case they are in series and the case they are parallel using Matlab.}

\begin{hwmatlab}
    %% Problem 8 - Series and Parallel Combinations
    cleanup_workspace();

    % Define first transfer function G1(s) = 1/(s+1)
    G1_num = [1];
    G1_dem = [1 1];

    % Define second transfer function G2(s) = 1/(s+3)
    G2_num = [1];
    G2_dem = [1 3];

    % Calculate series combination G1*G2
    [Series_num, Series_dem] = series(G1_num, G1_dem, G2_num, G2_dem);

    % Calculate parallel combination G1+G2
    [Parallel_num, Parallel_dem] = parallel(G1_num, G1_dem, G2_num, G2_dem);

    % Display results
    printsys(Series_num, Series_dem)
    printsys(Parallel_num, Parallel_dem)
\end{hwmatlab}

\begin{hwterminal}
     
num/den = 
 
         1
   -------------
   s^2 + 4 s + 3
 
num/den = 
 
      2 s + 4
   -------------
   s^2 + 4 s + 3
\end{hwterminal}
% Problem 9
\problem{In a PID controller, the controller output $u(t)$ is a function of the error signal $e(t)$. What is this function? (Give its equation)}

\note[check the I equation]
\begin{hwmath}
    u(t) \eq k+pe(t) +\frac{k_p}{T_i}\int_{0}^{t}e(t)dt+k_p T_d \frac{de(t)}{dt}
\end{hwmath}

% Problem 10
\problem{Derive the transfer function for the PID controller.}
\begin{hwmath}
    u(t) \eq k+pe(t) +\frac{k_p}{T_i}\int_{0}^{t}e(t)dt+k_p T_d \frac{de(t)}{dt} \\
    U(s) \eq k_pE(s) + \frac{k_p}{T_i}\frac{E(s)}{s}+k_pT_dsE(s) \\
    \frac{U(s)}{E(s)} \eq k_p[1 +\frac{1}{T_is}|T_ds] \\
\end{hwmath}

\hwappendix{MATLAB Code for HW1}
\begin{hwmatlab}
    % EE571 HW 1 
    % Hersch Nathan
    % Last Modified Augest 31, 2025

    %%
    cleanup_workspace();

    %% Problem 7 - Feedback System Analysis
    cleanup_workspace();
    % Define forward transfer function G(s) = 1/(s+0.5)
    G_num = [1];
    G_dem = [1 0.5];

    % Define feedback transfer function H(s) = 0.5
    H_num = [0.5];
    H_dem = [1];

    % Calculate closed-loop transfer function
    [num, dem] = feedback(G_num,G_dem, H_num, G_dem);

    % Display result
    printsys(num, dem)

    %% Problem 8 - Series and Parallel Combinations
    cleanup_workspace();

    % Define first transfer function G1(s) = 1/(s+1)
    G1_num = [1];
    G1_dem = [1 1];

    % Define second transfer function G2(s) = 1/(s+3)
    G2_num = [1];
    G2_dem = [1 3];

    % Calculate series combination G1*G2
    [Series_num, Series_dem] = series(G1_num, G1_dem, G2_num, G2_dem);

    % Calculate parallel combination G1+G2
    [Parallel_num, Parallel_dem] = parallel(G1_num, G1_dem, G2_num, G2_dem);

    % Display results
    printsys(Series_num, Series_dem)
    printsys(Parallel_num, Parallel_dem)
\end{hwmatlab}

\hwappendix{MATLAB Helper Functions}
\begin{hwmatlab}
    function cleanup_workspace()
    % CLEANUP_WORKSPACE Clears command window, workspace variables, and closes all figures
    %
    % This function performs the standard MATLAB cleanup operations:
    % - clc: Clear command window
    % - clear: Clear all variables from workspace
    % - close all: Close all figure windows
    %
    % Usage:
    %   cleanup_workspace()
    %
    % Author: Hersch Nathan
    % Date: August 31, 2025

        clc;        % Clear command window
        clear;      % Clear all variables from workspace
        close all;  % Close all figure windows
        
    end

\end{hwmatlab}

\end{document}